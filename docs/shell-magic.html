<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Shell Magic | Vlad’s Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Shell Magic" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="On this page I’ll be posting some shell magic which I came across in my daily business." />
<meta property="og:description" content="On this page I’ll be posting some shell magic which I came across in my daily business." />
<link rel="canonical" href="/blog/shell-magic" />
<meta property="og:url" content="/blog/shell-magic" />
<meta property="og:site_name" content="Vlad’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-25T00:00:00+01:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Shell Magic","dateModified":"2020-03-25T00:00:00+01:00","datePublished":"2020-03-25T00:00:00+01:00","url":"/blog/shell-magic","mainEntityOfPage":{"@type":"WebPage","@id":"/blog/shell-magic"},"description":"On this page I’ll be posting some shell magic which I came across in my daily business.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/blog/assets/main.css"><link type="application/atom+xml" rel="alternate" href="/blog/feed.xml" title="Vlad's Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/blog/">Vlad&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/blog/about">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Shell Magic</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2020-03-25T00:00:00+01:00" itemprop="datePublished">Mar 25, 2020
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>On this page I’ll be posting some shell magic which I came across in my daily business.</p>

<p><em>Please be advised that some of them could have unwanted effects if you are not completely sure of what they are doing and how they are doing it.
Some of them might also require sudo access, so I am just going to assume that you know what you are doing.
You have been warned!</em></p>

<p>All the commands have been tried on <em>Ubuntu 18.04.4 LTS</em></p>

<p><br /></p>

<h3 id="-1-forcibly-removing-all-directories-and-their-content-recursively"><a name="1"></a> 1. Forcibly removing all directories and their content recursively</h3>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">ls</span> <span class="nt">-l</span> | <span class="nb">grep</span> <span class="s1">'^d'</span> | <span class="nb">awk</span> <span class="s1">'{print $9}'</span> | xargs <span class="nb">rm</span> <span class="nt">-rf</span></code></pre></figure>

<p>In plain English, list the content of the current directory <code class="highlighter-rouge">ls</code> using the long listing format <code class="highlighter-rouge">-l</code>, filter out everything else that is not a directory <code class="highlighter-rouge">grep '^d'</code>, extract the 9^th^ column (the last containing the name of the directory) <code class="highlighter-rouge">awk '{print $9}'</code>, pass each name of the directory as an argument <code class="highlighter-rouge">xargs</code> to the command <code class="highlighter-rouge">rm</code>, which removes recursively <code class="highlighter-rouge">-r</code> and forcibly <code class="highlighter-rouge">-f</code> the respective directory.</p>

<p><strong>Resources:</strong></p>

<ul>
  <li>feel free to use the <code class="highlighter-rouge">man</code> command to read more about the commands above:
    <ul>
      <li><code class="highlighter-rouge">man ls</code></li>
      <li><code class="highlighter-rouge">man grep</code></li>
      <li><code class="highlighter-rouge">man awk</code></li>
      <li><code class="highlighter-rouge">man xargs</code></li>
      <li><code class="highlighter-rouge">man rm</code></li>
    </ul>
  </li>
</ul>

<hr />
<p><br /></p>

<h3 id="-2-switching-between-github-remote-urls-https-vs-ssh"><a name="2"></a> 2. Switching between GitHub remote URLs (HTTPS vs. SSH)</h3>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">git remote <span class="nt">-v</span>
git remote set-url origin git@github.com:USERNAME/REPOSITORY.git
git remote set-url origin https://github.com/USERNAME/REPOSITORY.git</code></pre></figure>

<p>First we check what kind of remote URLs we have, using option <code class="highlighter-rouge">-v</code> of command <code class="highlighter-rouge">git remote</code>,
afterwards we change the remote URL to either HTTPS or SSH using one of the last two commands
(note the two different URL styles for setting the remote name <code class="highlighter-rouge">origin</code>). Do not forget
to replace the <code class="highlighter-rouge">USERNAME</code> and <code class="highlighter-rouge">REPOSITORY</code> with the real values.</p>

<p><strong>Resources:</strong></p>

<ul>
  <li><a href="https://help.github.com/en/github/using-git/changing-a-remotes-url#switching-remote-urls-from-ssh-to-https">switching remote urls</a></li>
</ul>

<hr />
<p><br /></p>

<h3 id="-3-searching-for-files-and-creating-an-archive-out-of-them"><a name="3"></a> 3. Searching for files and creating an archive out of them</h3>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">find <span class="nb">.</span> <span class="nt">-type</span> f <span class="se">\(</span> <span class="nt">-name</span> file1 <span class="nt">-o</span> <span class="nt">-name</span> file2 <span class="se">\)</span> | zip -@ <span class="nt">-j</span> files
<span class="nb">mv </span>files.zip ~/tmp
<span class="nb">cd</span> <span class="nv">$_</span>
xdg-open .</code></pre></figure>

<p><strong>Resources:</strong></p>

<ul>
  <li>feel free to use the <code class="highlighter-rouge">man</code> command to read more about the commands above:
    <ul>
      <li><code class="highlighter-rouge">man find</code></li>
      <li><code class="highlighter-rouge">man zip</code></li>
    </ul>
  </li>
</ul>

  </div><a class="u-url" href="/blog/shell-magic" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/blog/"></data>
    <div class="wrapper">
        <h2 class="footer-heading">Vlad&#39;s Blog</h2>
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">Vlad&#39;s Blog</li></ul>
            </div>
            <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vladflore"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vladflore</span></a></li><li><a href="https://www.twitter.com/vlad_flore"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">vlad_flore</span></a></li></ul>
</div>
            <div class="footer-col footer-col-3">
                <p>A place to share stuff about IT and life.</p>
            </div>
        </div>
        <h4>&copy;  2020 | All rights reserved. </h4>
    </div>
</footer>
</body>

</html>
