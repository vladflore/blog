<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Pet Project (3/) | VF_Tech</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Pet Project (3/)" />
<meta name="author" content="Vlad" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="This is part 3 of the Pet Project series about building a small web application from scratch." />
<meta property="og:description" content="This is part 3 of the Pet Project series about building a small web application from scratch." />
<link rel="canonical" href="https://vladflore.github.io/pet-project-part3" />
<meta property="og:url" content="https://vladflore.github.io/pet-project-part3" />
<meta property="og:site_name" content="VF_Tech" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-10-06T00:00:00+02:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://vladflore.github.io/pet-project-part3"},"url":"https://vladflore.github.io/pet-project-part3","datePublished":"2020-10-06T00:00:00+02:00","description":"This is part 3 of the Pet Project series about building a small web application from scratch.","author":{"@type":"Person","name":"Vlad"},"headline":"Pet Project (3/)","dateModified":"2020-10-06T00:00:00+02:00","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="stylesheet" href="/assets/css/custom.css"><link type="application/atom+xml" rel="alternate" href="https://vladflore.github.io/feed.xml" title="VF_Tech" /><!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-171602576-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-171602576-1');
</script>
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">VF_Tech</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about">About</a><a class="page-link" href="/contact">Contact</a><a class="page-link" href="/cv">Curriculum Vitae</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <header class="post-header">
        <h1 class="post-title p-name" itemprop="name headline">Pet Project (3/)</h1>
        <p class="post-meta">
            created on:
            <time class="dt-published" datetime="2020-10-06T00:00:00+02:00" itemprop="datePublished">Oct 6, 2020
            </time><time class="dt-published" datetime="2020-11-04T00:00:00+01:00" itemprop="datePublished">
                <span style="color: #a61717;">(last modified on: Nov 4, 2020)</span>
            </time>&nbsp;by <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Vlad</span></span></p>
    </header>

    <div class="post-content e-content" itemprop="articleBody">
        <p>This is <strong>part 3</strong> of the <strong>Pet Project series</strong> about building a small web application from scratch.</p>

<h3 id="the-road-so-far">The road so far</h3>

<p>Check the other posts to see where we are coming from:</p>
<ul>
  <li><a href="/pet-project-part1">part 1</a></li>
  <li><a href="/pet-project-part2">part 2</a></li>
</ul>

<h3 id="status-quo">Status Quo</h3>

<p>After some time off and handling some other responsibilities, here is a new post on building
a small web application from scratch. With this update we went pretty far on the implementation road, and we are now one step closer
to having a functional backend. Just as a reminder, the application we are building is a shopping list application with the help of which
the user can manage their shopping experience by keeping track shopping lists and their items.</p>

<p>This is what we have achieved with this iteration:</p>

<h4 id="endpoints-for-handling-items-and-shopping-lists">Endpoints for handling items and shopping lists</h4>

<p>Following endpoints are now available(textual description):</p>

<ul>
  <li>create an item</li>
  <li>get the items, either all of them, or by name</li>
  <li>create a shopping list</li>
  <li>get the shopping lists, either all of them, or by name</li>
  <li>get items belonging to a shopping lists</li>
  <li>add item to a shopping list</li>
</ul>

<h4 id="embedded-h2-database">Embedded H2 database</h4>

<p>To store the application’s data we use for now an <a href="https://www.h2database.com/html/cheatSheet.html">embedded H2 database</a>, configured to save its files on the file system (see <code class="highlighter-rouge">application.properties</code>).</p>

<h4 id="h2-compliant-script">H2 compliant script</h4>

<p><code class="highlighter-rouge">schema.sql</code>, is a script which is executed when the app starts and creates the database objects required by the application (a complete wipe takes place beforehand).</p>

<h4 id="not-so-dummy-data">Not so dummy data</h4>

<p>To populate the database with real-life data we use a <code class="highlighter-rouge">CommandLineRunner</code> bean, which reads a <code class="highlighter-rouge">.csv</code> file and inserts the data into the database.</p>

<h4 id="test-script">Test script</h4>

<p><code class="highlighter-rouge">requests.sh</code> is a test script, which depicts a real life scenario.
I actually used the IntelliJ feature <em>Generate HTTP Request</em> to generate the requests and then I packed them all in an executable file.</p>

<h4 id="java-11-support">Java 11 support</h4>

<p>The project uses now Java 11 (keeping up with the Java LTS versions).</p>

<h3 id="technical-implementation-aspects">Technical implementation aspects</h3>

<p>I tried to keep things as simple as possible and to follow good software development practices.</p>

<blockquote>
  <p><strong><em>NOTE:</em></strong> This is a work in progress and things <em>will</em> definitely change.</p>
</blockquote>

<p>That being said, here is a summary of the development experience and status quo.</p>

<p>I went with a <em>slightly</em> different version of <strong>package by feature</strong> approach for organizing the code.
With this approach we have two packages, which bring the attention to the domain of the application.
Each package contains everything related to the <em>feature</em> in question.
The Domain comprises currently <em>items</em> and <em>shopping lists</em>.</p>

<p>The constituents of each <em>feature</em> package follow a <strong>layered architecture</strong>.
This dictates that one layer should only communicate with the layer directly below it.
In this case we have something similar to the following diagram:</p>

<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="459px" preserveAspectRatio="none" style="width:764px;height:459px;" version="1.1" viewBox="0 0 764 459" width="764px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tczms5tyn6fn" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="122" x="327" y="16.708">Sholia Project</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="248" x="264" y="37.6611">Packages and Collaborators</text><!--MD5=[338377fed93ec0d0cef657a61317d712]
cluster tech.vladflore.sholia--><polygon fill="#FFFFFF" filter="url(#f1tczms5tyn6fn)" points="22,65.9063,191,65.9063,198,88.2031,742,88.2031,742,447.9063,22,447.9063,22,65.9063" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="198" y1="88.2031" y2="88.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="163" x="26" y="80.9014">tech.vladflore.sholia</text><!--MD5=[d5f371a3d3d5175dccd7e63476fa7c75]
cluster item--><polygon fill="#FFFFFF" filter="url(#f1tczms5tyn6fn)" points="562,108.9063,605,108.9063,612,131.2031,718,131.2031,718,423.9063,562,423.9063,562,108.9063" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="562" x2="612" y1="131.2031" y2="131.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="37" x="566" y="123.9014">item</text><!--MD5=[ecf5313af7ca93cb8c50221a25781608]
cluster shoppinglist--><polygon fill="#FFFFFF" filter="url(#f1tczms5tyn6fn)" points="332,108.9063,436,108.9063,443,131.2031,538,131.2031,538,423.9063,332,423.9063,332,108.9063" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="332" x2="443" y1="131.2031" y2="131.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="98" x="336" y="123.9014">shoppinglist</text><!--MD5=[77140a42179fe8241cde5d77dd05aadc]
cluster config--><polygon fill="#FFFFFF" filter="url(#f1tczms5tyn6fn)" points="46,108.9063,101,108.9063,108,131.2031,308,131.2031,308,207.9063,46,207.9063,46,108.9063" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="108" y1="131.2031" y2="131.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="50" y="123.9014">config</text><!--MD5=[27654cd29a9e91365879b1401fdc7b0e]
class ItemController--><rect fill="#FEFECE" filter="url(#f1tczms5tyn6fn)" height="48" id="ItemController" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="581" y="143.9063"/><ellipse cx="596" cy="159.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M598.4844,165.7813 Q597.9063,166.0938 597.2656,166.25 Q596.625,166.4063 595.9219,166.4063 Q593.4063,166.4063 592.0781,164.7344 Q590.7656,163.0625 590.7656,159.9063 Q590.7656,156.75 592.0781,155.0781 Q593.4063,153.4063 595.9219,153.4063 Q596.625,153.4063 597.2656,153.5625 Q597.9219,153.7188 598.4844,154.0313 L598.4844,156.8281 Q597.8438,156.25 597.25,155.9844 Q596.6563,155.7188 596.0313,155.7188 Q594.6875,155.7188 594,156.7813 Q593.3125,157.8281 593.3125,159.9063 Q593.3125,161.9844 594,163.0469 Q594.6875,164.0938 596.0313,164.0938 Q596.6563,164.0938 597.25,163.8281 Q597.8438,163.5625 598.4844,162.9844 L598.4844,165.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="610" y="164.0551">ItemController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="582" x2="698" y1="175.9063" y2="175.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="582" x2="698" y1="183.9063" y2="183.9063"/><!--MD5=[5ee510b617988fb328de72a9e1ecfcf9]
class ItemService--><rect fill="#FEFECE" filter="url(#f1tczms5tyn6fn)" height="48" id="ItemService" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="588" y="251.9063"/><ellipse cx="603" cy="267.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M605.4844,273.7813 Q604.9063,274.0938 604.2656,274.25 Q603.625,274.4063 602.9219,274.4063 Q600.4063,274.4063 599.0781,272.7344 Q597.7656,271.0625 597.7656,267.9063 Q597.7656,264.75 599.0781,263.0781 Q600.4063,261.4063 602.9219,261.4063 Q603.625,261.4063 604.2656,261.5625 Q604.9219,261.7188 605.4844,262.0313 L605.4844,264.8281 Q604.8438,264.25 604.25,263.9844 Q603.6563,263.7188 603.0313,263.7188 Q601.6875,263.7188 601,264.7813 Q600.3125,265.8281 600.3125,267.9063 Q600.3125,269.9844 601,271.0469 Q601.6875,272.0938 603.0313,272.0938 Q603.6563,272.0938 604.25,271.8281 Q604.8438,271.5625 605.4844,270.9844 L605.4844,273.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="617" y="272.0551">ItemService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="589" x2="691" y1="283.9063" y2="283.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="589" x2="691" y1="291.9063" y2="291.9063"/><!--MD5=[ce1398305a9b40be4cd6d90fd229e3b0]
class ItemRepository--><rect fill="#FEFECE" filter="url(#f1tczms5tyn6fn)" height="48" id="ItemRepository" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="578.5" y="359.9063"/><ellipse cx="593.5" cy="375.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M595.9844,381.7813 Q595.4063,382.0938 594.7656,382.25 Q594.125,382.4063 593.4219,382.4063 Q590.9063,382.4063 589.5781,380.7344 Q588.2656,379.0625 588.2656,375.9063 Q588.2656,372.75 589.5781,371.0781 Q590.9063,369.4063 593.4219,369.4063 Q594.125,369.4063 594.7656,369.5625 Q595.4219,369.7188 595.9844,370.0313 L595.9844,372.8281 Q595.3438,372.25 594.75,371.9844 Q594.1563,371.7188 593.5313,371.7188 Q592.1875,371.7188 591.5,372.7813 Q590.8125,373.8281 590.8125,375.9063 Q590.8125,377.9844 591.5,379.0469 Q592.1875,380.0938 593.5313,380.0938 Q594.1563,380.0938 594.75,379.8281 Q595.3438,379.5625 595.9844,378.9844 L595.9844,381.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="607.5" y="380.0551">ItemRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="579.5" x2="700.5" y1="391.9063" y2="391.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="579.5" x2="700.5" y1="399.9063" y2="399.9063"/><!--MD5=[ce1c73f49b43c541016db0533fb36a0b]
class ShoppingListController--><rect fill="#FEFECE" filter="url(#f1tczms5tyn6fn)" height="48" id="ShoppingListController" style="stroke: #A80036; stroke-width: 1.5;" width="169" x="350.5" y="143.9063"/><ellipse cx="365.5" cy="159.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M367.9844,165.7813 Q367.4063,166.0938 366.7656,166.25 Q366.125,166.4063 365.4219,166.4063 Q362.9063,166.4063 361.5781,164.7344 Q360.2656,163.0625 360.2656,159.9063 Q360.2656,156.75 361.5781,155.0781 Q362.9063,153.4063 365.4219,153.4063 Q366.125,153.4063 366.7656,153.5625 Q367.4219,153.7188 367.9844,154.0313 L367.9844,156.8281 Q367.3438,156.25 366.75,155.9844 Q366.1563,155.7188 365.5313,155.7188 Q364.1875,155.7188 363.5,156.7813 Q362.8125,157.8281 362.8125,159.9063 Q362.8125,161.9844 363.5,163.0469 Q364.1875,164.0938 365.5313,164.0938 Q366.1563,164.0938 366.75,163.8281 Q367.3438,163.5625 367.9844,162.9844 L367.9844,165.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="137" x="379.5" y="164.0551">ShoppingListController</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="351.5" x2="518.5" y1="175.9063" y2="175.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="351.5" x2="518.5" y1="183.9063" y2="183.9063"/><!--MD5=[c0a34a28932b3ee2d6e5cfd7feaf1102]
class ShoppingListService--><rect fill="#FEFECE" filter="url(#f1tczms5tyn6fn)" height="48" id="ShoppingListService" style="stroke: #A80036; stroke-width: 1.5;" width="155" x="357.5" y="251.9063"/><ellipse cx="372.5" cy="267.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M374.9844,273.7813 Q374.4063,274.0938 373.7656,274.25 Q373.125,274.4063 372.4219,274.4063 Q369.9063,274.4063 368.5781,272.7344 Q367.2656,271.0625 367.2656,267.9063 Q367.2656,264.75 368.5781,263.0781 Q369.9063,261.4063 372.4219,261.4063 Q373.125,261.4063 373.7656,261.5625 Q374.4219,261.7188 374.9844,262.0313 L374.9844,264.8281 Q374.3438,264.25 373.75,263.9844 Q373.1563,263.7188 372.5313,263.7188 Q371.1875,263.7188 370.5,264.7813 Q369.8125,265.8281 369.8125,267.9063 Q369.8125,269.9844 370.5,271.0469 Q371.1875,272.0938 372.5313,272.0938 Q373.1563,272.0938 373.75,271.8281 Q374.3438,271.5625 374.9844,270.9844 L374.9844,273.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="123" x="386.5" y="272.0551">ShoppingListService</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="358.5" x2="511.5" y1="283.9063" y2="283.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="358.5" x2="511.5" y1="291.9063" y2="291.9063"/><!--MD5=[8d334a7dde9cb883c9a16351f70702e3]
class ShoppingListRepository--><rect fill="#FEFECE" filter="url(#f1tczms5tyn6fn)" height="48" id="ShoppingListRepository" style="stroke: #A80036; stroke-width: 1.5;" width="174" x="348" y="359.9063"/><ellipse cx="363" cy="375.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M365.4844,381.7813 Q364.9063,382.0938 364.2656,382.25 Q363.625,382.4063 362.9219,382.4063 Q360.4063,382.4063 359.0781,380.7344 Q357.7656,379.0625 357.7656,375.9063 Q357.7656,372.75 359.0781,371.0781 Q360.4063,369.4063 362.9219,369.4063 Q363.625,369.4063 364.2656,369.5625 Q364.9219,369.7188 365.4844,370.0313 L365.4844,372.8281 Q364.8438,372.25 364.25,371.9844 Q363.6563,371.7188 363.0313,371.7188 Q361.6875,371.7188 361,372.7813 Q360.3125,373.8281 360.3125,375.9063 Q360.3125,377.9844 361,379.0469 Q361.6875,380.0938 363.0313,380.0938 Q363.6563,380.0938 364.25,379.8281 Q364.8438,379.5625 365.4844,378.9844 L365.4844,381.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="377" y="380.0551">ShoppingListRepository</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="521" y1="391.9063" y2="391.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="349" x2="521" y1="399.9063" y2="399.9063"/><!--MD5=[693cfc7d79c065c36803d58a3b06a5ef]
class InsertDummyItemsIntoDatabase--><rect fill="#FEFECE" filter="url(#f1tczms5tyn6fn)" height="48" id="InsertDummyItemsIntoDatabase" style="stroke: #A80036; stroke-width: 1.5;" width="229" x="62.5" y="143.9063"/><ellipse cx="77.5" cy="159.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M79.9844,165.7813 Q79.4063,166.0938 78.7656,166.25 Q78.125,166.4063 77.4219,166.4063 Q74.9063,166.4063 73.5781,164.7344 Q72.2656,163.0625 72.2656,159.9063 Q72.2656,156.75 73.5781,155.0781 Q74.9063,153.4063 77.4219,153.4063 Q78.125,153.4063 78.7656,153.5625 Q79.4219,153.7188 79.9844,154.0313 L79.9844,156.8281 Q79.3438,156.25 78.75,155.9844 Q78.1563,155.7188 77.5313,155.7188 Q76.1875,155.7188 75.5,156.7813 Q74.8125,157.8281 74.8125,159.9063 Q74.8125,161.9844 75.5,163.0469 Q76.1875,164.0938 77.5313,164.0938 Q78.1563,164.0938 78.75,163.8281 Q79.3438,163.5625 79.9844,162.9844 L79.9844,165.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="197" x="91.5" y="164.0551">InsertDummyItemsIntoDatabase</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="290.5" y1="175.9063" y2="175.9063"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="290.5" y1="183.9063" y2="183.9063"/><!--MD5=[850a2311c7f1675b969dd5456a5dc5db]
link ItemController to ItemService--><path d="M640,191.9063 C640,207.9063 640,229.3563 640,246.4363 " fill="none" id="ItemController-&gt;ItemService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="640,251.5863,644,242.5863,640,246.5863,636,242.5863,640,251.5863" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[7e4438329ece6063ad1b900a89a2875b]
link ItemService to ItemRepository--><path d="M640,299.9063 C640,315.9063 640,337.3563 640,354.4363 " fill="none" id="ItemService-&gt;ItemRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="640,359.5863,644,350.5863,640,354.5863,636,350.5863,640,359.5863" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[427350878f53956ead6178635e392fb4]
link ShoppingListController to ShoppingListService--><path d="M435,191.9063 C435,207.9063 435,229.3563 435,246.4363 " fill="none" id="ShoppingListController-&gt;ShoppingListService" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="435,251.5863,439,242.5863,435,246.5863,431,242.5863,435,251.5863" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[3fc898fdfcce18706cfece53c129bb0a]
link ShoppingListService to ShoppingListRepository--><path d="M435,299.9063 C435,315.9063 435,337.3563 435,354.4363 " fill="none" id="ShoppingListService-&gt;ShoppingListRepository" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="435,359.5863,439,350.5863,435,354.5863,431,350.5863,435,359.5863" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[13a030d7be4a6cd5022e6b7ccd8123af]
@startuml

title Sholia Project\nPackages and Collaborators

package tech.vladflore.sholia {
    package item {
        class ItemController
        class ItemService
        class ItemRepository
        ItemController - -> ItemService
        ItemService - -> ItemRepository
    }

    package shoppinglist {
        class ShoppingListController
        class ShoppingListService
        class ShoppingListRepository
        ShoppingListController - -> ShoppingListService
        ShoppingListService - -> ShoppingListRepository
    }

    package config {
        class InsertDummyItemsIntoDatabase
    }
}
@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-b944.34
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>

<p>I use <code class="highlighter-rouge">Enum</code>s to group different related values under the same name, <strong>Data Transfer Objects</strong> (DTOs) to move data between boundaries,
<strong>Mapstruct</strong> to convert one object into another, <strong>Lombok</strong> to get rid of that annoying boilerplate code, <strong>validation</strong> using <code class="highlighter-rouge">javax.validation.*</code> to insure
data validity, <strong>Jackson</strong> to easily process JSON data. As I am using <strong>Spring Framework</strong> and <strong>Spring Boot</strong>, a huge part of the heavy lifting is done by the framework,
which includes dependency injection, database access and so on.</p>

<p>The diagram below depicts a part of the model:</p>

<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="529px" preserveAspectRatio="none" style="width:488px;height:529px;" version="1.1" viewBox="0 0 488 529" width="488px" zoomAndPan="magnify"><defs><filter height="300%" id="f10hvnnh3vi7ct" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="122" x="187" y="16.708">Sholia Project</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="54" x="221" y="37.6611">Model</text><!--MD5=[44a1b4afaef76c16e6c9ec4990ad0c8d]
class Item--><rect fill="#FEFECE" filter="url(#f10hvnnh3vi7ct)" height="163.2422" id="Item" style="stroke: #A80036; stroke-width: 1.5;" width="222" x="144" y="195.9063"/><ellipse cx="236.75" cy="211.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M239.2344,217.7813 Q238.6563,218.0938 238.0156,218.25 Q237.375,218.4063 236.6719,218.4063 Q234.1563,218.4063 232.8281,216.7344 Q231.5156,215.0625 231.5156,211.9063 Q231.5156,208.75 232.8281,207.0781 Q234.1563,205.4063 236.6719,205.4063 Q237.375,205.4063 238.0156,205.5625 Q238.6719,205.7188 239.2344,206.0313 L239.2344,208.8281 Q238.5938,208.25 238,207.9844 Q237.4063,207.7188 236.7813,207.7188 Q235.4375,207.7188 234.75,208.7813 Q234.0625,209.8281 234.0625,211.9063 Q234.0625,213.9844 234.75,215.0469 Q235.4375,216.0938 236.7813,216.0938 Q237.4063,216.0938 238,215.8281 Q238.5938,215.5625 239.2344,214.9844 L239.2344,217.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="28" x="257.25" y="216.0551">Item</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="365" y1="227.9063" y2="227.9063"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="235.9063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="164" y="242.1167">id: Long</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="248.7109"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="164" y="254.9214">name: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="261.5156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="164" y="267.7261">quantity: Double</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="274.3203"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="164" y="280.5308">measurement: MeasurementEnum</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="287.125"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="164" y="293.3354">language: LanguageEnum</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="299.9297"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="164" y="306.1401">pricePerQuantity: Double</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="312.7344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="164" y="318.9448">shop: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="325.5391"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="164" y="331.7495">notes: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="152" y="338.3438"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="164" y="344.5542">currency: CurrencyEnum</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="145" x2="365" y1="351.1484" y2="351.1484"/><!--MD5=[9630763e33facf945baa437552379d6e]
class ShoppingList--><rect fill="#FEFECE" filter="url(#f10hvnnh3vi7ct)" height="86.4141" id="ShoppingList" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="191.5" y="49.9063"/><ellipse cx="213.7" cy="65.9063" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M216.1844,71.7813 Q215.6063,72.0938 214.9656,72.25 Q214.325,72.4063 213.6219,72.4063 Q211.1063,72.4063 209.7781,70.7344 Q208.4656,69.0625 208.4656,65.9063 Q208.4656,62.75 209.7781,61.0781 Q211.1063,59.4063 213.6219,59.4063 Q214.325,59.4063 214.9656,59.5625 Q215.6219,59.7188 216.1844,60.0313 L216.1844,62.8281 Q215.5438,62.25 214.95,61.9844 Q214.3563,61.7188 213.7313,61.7188 Q212.3875,61.7188 211.7,62.7813 Q211.0125,63.8281 211.0125,65.9063 Q211.0125,67.9844 211.7,69.0469 Q212.3875,70.0938 213.7313,70.0938 Q214.3563,70.0938 214.95,69.8281 Q215.5438,69.5625 216.1844,68.9844 L216.1844,71.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="229.3" y="70.0551">ShoppingList</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="192.5" x2="317.5" y1="81.9063" y2="81.9063"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="199.5" y="89.9063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="211.5" y="96.1167">id: Long</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="199.5" y="102.7109"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="73" x="211.5" y="108.9214">name: String</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="199.5" y="115.5156"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="211.5" y="121.7261">items: List&lt;Item&gt;</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="192.5" x2="317.5" y1="128.3203" y2="128.3203"/><!--MD5=[f942659406c6b8d57ba4bbf962e741bb]
class MeasurementEnum--><rect fill="#FEFECE" filter="url(#f10hvnnh3vi7ct)" height="99.2188" id="MeasurementEnum" style="stroke: #A80036; stroke-width: 1.5;" width="150" x="6" y="418.9063"/><ellipse cx="21" cy="434.9063" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M25.125,441.4063 L17.3906,441.4063 L17.3906,428.4063 L25.125,428.4063 L25.125,430.6719 L19.8438,430.6719 L19.8438,433.4063 L24.625,433.4063 L24.625,435.6719 L19.8438,435.6719 L19.8438,439.1406 L25.125,439.1406 L25.125,441.4063 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="35" y="439.0551">MeasurementEnum</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="155" y1="450.9063" y2="450.9063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="9" x="12" y="465.1167">G</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="16" x="12" y="477.9214">KG</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="6" x="12" y="490.7261">L</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="12" y="503.5308">PC</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="155" y1="510.125" y2="510.125"/><!--MD5=[e2bf785f0e495272737a5e0f47020f68]
class LanguageEnum--><rect fill="#FEFECE" filter="url(#f10hvnnh3vi7ct)" height="86.4141" id="LanguageEnum" style="stroke: #A80036; stroke-width: 1.5;" width="128" x="191" y="425.4063"/><ellipse cx="206" cy="441.4063" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M210.125,447.9063 L202.3906,447.9063 L202.3906,434.9063 L210.125,434.9063 L210.125,437.1719 L204.8438,437.1719 L204.8438,439.9063 L209.625,439.9063 L209.625,442.1719 L204.8438,442.1719 L204.8438,445.6406 L210.125,445.6406 L210.125,447.9063 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="96" x="220" y="445.5551">LanguageEnum</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="192" x2="318" y1="457.4063" y2="457.4063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="197" y="471.6167">EN</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="15" x="197" y="484.4214">DE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="17" x="197" y="497.2261">RO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="192" x2="318" y1="503.8203" y2="503.8203"/><!--MD5=[4260f3b4452d5e63cf2fdc2625c787c5]
class CurrencyEnum--><rect fill="#FEFECE" filter="url(#f10hvnnh3vi7ct)" height="86.4141" id="CurrencyEnum" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="354.5" y="425.4063"/><ellipse cx="369.5" cy="441.4063" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M373.625,447.9063 L365.8906,447.9063 L365.8906,434.9063 L373.625,434.9063 L373.625,437.1719 L368.3438,437.1719 L368.3438,439.9063 L373.125,439.9063 L373.125,442.1719 L368.3438,442.1719 L368.3438,445.6406 L373.625,445.6406 L373.625,447.9063 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="383.5" y="445.5551">CurrencyEnum</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="355.5" x2="476.5" y1="457.4063" y2="457.4063"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="32" x="360.5" y="471.6167">EURO</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="360.5" y="484.4214">DOLLAR</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="25" x="360.5" y="497.2261">RON</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="355.5" x2="476.5" y1="503.8203" y2="503.8203"/><!--MD5=[de11bd4cd5b546b62505f01129df9179]
link Item to MeasurementEnum--><path d="M180.7,359.1063 C163.36,377.9462 145.32,397.5363 129.44,414.7963 " fill="none" id="Item-&gt;MeasurementEnum" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="125.87,418.6663,134.9043,414.7443,129.2525,414.984,129.0127,409.3323,125.87,418.6663" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[ba8fece8fddd616f651b1a0ad65073e5]
link Item to LanguageEnum--><path d="M255,359.1063 C255,379.9263 255,401.6563 255,420.1463 " fill="none" id="Item-&gt;LanguageEnum" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="255,425.2663,259,416.2663,255,420.2663,251,416.2663,255,425.2663" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[8551264c79207d5b46a27acac92827d1]
link Item to CurrencyEnum--><path d="M323.75,359.1063 C341.78,380.2863 360.62,402.3963 376.54,421.0863 " fill="none" id="Item-&gt;CurrencyEnum" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="380.1,425.2663,377.3004,415.8237,376.8543,421.4629,371.2151,421.0168,380.1,425.2663" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[88c7db923e7395e977ba13b2406b03f5]
reverse link ShoppingList to Item--><path d="M255,149.6363 C255,164.1363 255,180.0562 255,195.5663 " fill="none" id="ShoppingList&lt;-Item" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="255,136.2362,251,142.2362,255,148.2362,259,142.2362,255,136.2362" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="23" x="231.0117" y="184.9508">0..*</text><!--MD5=[b5948f61642587b77b03861f8672a1b3]
@startuml

title Sholia Project\nModel

class Item {
- id: Long
- name: String
- quantity: Double
- measurement: MeasurementEnum
- language: LanguageEnum
- pricePerQuantity: Double
- shop: String
- notes: String
- currency: CurrencyEnum
}

class ShoppingList{
- id: Long
- name: String
- items: List<Item>
}

enum MeasurementEnum {
G
KG
L
PC
}

enum LanguageEnum{
EN
DE
RO
}

enum CurrencyEnum{
EURO
DOLLAR
RON
}

Item - -> MeasurementEnum
Item - -> LanguageEnum
Item - -> CurrencyEnum

ShoppingList o- - "0..*" Item

@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-b944.34
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>

<p>You will be seeing more of this kind of diagrams as the project advances (I created them using <a href="https://plantuml.com/">PlantUML</a> and a <a href="https://plugins.jetbrains.com/plugin/7017-plantuml-integration">plugin</a> for IntelliJ and exporting them as .svg).
Think of them as <em>diagram as code</em>, which means, one writes some special code, which is then transformed into a .svg or image of even .pdf, code which can be versioned.</p>

<p>Another interesting thing was how to take a peek inside the embedded H2 database from the terminal.
Please note that the database has to be shut down in order to connect to it, we are basically having a look into the database file, which is locked as long as H2 is running.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>java <span class="nt">-cp</span> &lt;path-to-h2-jar&gt; org.h2.tools.Shell <span class="se">\</span>
     <span class="nt">-url</span> <span class="s2">"&lt;h2-connection-string&gt;;ifexists=true"</span> <span class="se">\</span>
     <span class="nt">-user</span> <span class="s2">"&lt;user&gt;"</span> <span class="se">\</span>
     <span class="nt">-password</span> <span class="s2">"&lt;password&gt;"</span>
</code></pre></div></div>

<p>where:</p>
<ul>
  <li><code class="highlighter-rouge">&lt;path-to-h2-jar&gt;</code> is something like <code class="highlighter-rouge">/home/vlad/.m2/repository/com/h2database/h2/1.4.200/h2-1.4.200.jar</code>, in my case I am using maven</li>
  <li><code class="highlighter-rouge">&lt;h2-connection-string&gt;</code>, <code class="highlighter-rouge">&lt;user&gt;</code>, <code class="highlighter-rouge">&lt;password&gt;</code> is the information to connect to the H2 database, usually found in the <code class="highlighter-rouge">application.properties</code> file</li>
</ul>

<p>After connecting to the database we can query it by running commands like:</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">show</span> <span class="n">tables</span><span class="p">;</span>
<span class="k">select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">item</span><span class="p">;</span>
</code></pre></div></div>
<h3 id="final-words">Final words</h3>

<p>This post is more of a status report, and a bird’s-eye view of the current project iteration. We are now at the point where we could start building a fancier kind of client, 
other than some .sh scripts, and send requests to the backend to create and get items and shopping lists. As necessary, the business logic will change to make room to other
features as I discover them from my own shopping experience. There is still a lot of work ahead - new client, a more stable backend, CI/CD process, Infrastructure etc., so stay tuned
for the next update.</p>

<p>The current state of the project is available on <a href="https://github.com/vladflore/shopping-list-app/tree/master/backend/src/main/java/tech/vladflore/sholia">GitHub</a>.</p>

<p>Take care and ‘til next time!</p>


    </div><a class="u-url" href="/pet-project-part3" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
    <data class="u-url" href="/"></data>
    <div class="wrapper">
        <h2 class="footer-heading">VF_Tech</h2>
        <div class="footer-col-wrapper">
            <div class="footer-col footer-col-1">
                <ul class="contact-list">
                    <li class="p-name">VF_Tech</li></ul>
            </div>
            <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/vladflore"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">vladflore</span></a></li><li><a href="https://www.twitter.com/vlad_flore"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">vlad_flore</span></a></li></ul>
</div>
            <div class="footer-col footer-col-3">
                <p>A place to share stuff about software engineering and life...but mostly about software engineering</p>
            </div>
        </div>
        <div align="center" class="copyright">
            &copy; vladflore.tech 2021 | All rights reserved<br>
            powered by <a href="https://jekyllrb.com/" target="_blank">jekyll</a> and <a href="https://github.com/jekyll/minima" target="_blank">minima theme</a>
        </div>
    </div>
</footer>
</body>

</html>
